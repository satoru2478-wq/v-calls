* { margin:0; padding:0; box-sizing:border-box; user-select:none; -webkit-user-select:none; }

body { 
    height: 100dvh; /* Dynamic Height for Mobile */
    overflow: hidden; 
    background: #000; 
    color: #fff; 
    font-family: system-ui, -apple-system, sans-serif;
    touch-action: none; /* Prevents pull-to-refresh on mobile */
}

/* Background Layers */
#gradient-bg {
    position: fixed; inset: 0; z-index: -2;
    background: linear-gradient(135deg, #0f172a, #312e81, #4c0519);
    background-size: 300% 300%;
    animation: shift 15s ease infinite;
}
@keyframes shift { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

canvas { position: fixed; inset: 0; z-index: -1; opacity: 0.8; pointer-events: none; }

/* Pages */
.page { position: absolute; inset: 0; display: none; flex-direction: column; justify-content: center; align-items: center; z-index: 10; }
.page.active { display: flex; }
.hidden { display: none !important; }

/* UI Components */
.logo { font-size: 3rem; font-weight: 900; letter-spacing: 2px; margin-bottom: 20px; text-shadow: 0 0 30px rgba(255,255,255,0.4); }

.glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 24px; padding: 30px;
    width: 85%; max-width: 340px; text-align: center;
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
}

.main-btn {
    width: 100%; padding: 18px; margin-top: 20px; border-radius: 16px; border: none;
    background: linear-gradient(135deg, #6366f1, #a855f7);
    color: white; font-size: 18px; font-weight: bold; cursor: pointer;
    box-shadow: 0 4px 20px rgba(168, 85, 247, 0.4);
    touch-action: manipulation;
}
.main-btn:active { transform: scale(0.96); }

.pulse { animation: pulse 1.5s infinite; }
@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(99,102,241,0.7); } 70% { box-shadow: 0 0 0 15px rgba(99,102,241,0); } 100% { box-shadow: 0 0 0 0 rgba(99,102,241,0); } }

.link-container { display: flex; gap: 8px; margin: 15px 0; }
input { flex: 1; padding: 12px; border-radius: 10px; border: none; background: rgba(0,0,0,0.4); color: white; text-align: center; outline: none; }
#copy-btn { padding: 12px; border-radius: 10px; border: none; background: rgba(255,255,255,0.2); color: white; cursor: pointer; }

/* Controls */
.controls-container { position: absolute; bottom: 40px; width: 100%; display: flex; justify-content: center; }
.controls { display: flex; gap: 25px; padding: 15px 30px; border-radius: 50px; background: rgba(0,0,0,0.7); backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.3s, transform 0.3s; transform: translateY(20px); }
.controls.show { opacity: 1; transform: translateY(0); }

.icon-btn { width: 55px; height: 55px; border-radius: 50%; border: none; font-size: 24px; background: rgba(255,255,255,0.1); color: white; display: flex; justify-content: center; align-items: center; cursor: pointer; }
.icon-btn.red { background: rgba(220, 38, 38, 0.5); }

#chat-box { position: absolute; bottom: 130px; width: 90%; max-width: 320px; background: rgba(20, 20, 20, 0.9); border-radius: 16px; padding: 15px; backdrop-filter: blur(10px); display: flex; flex-direction: column; gap: 10px; }
#messages { height: 200px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; }
.msg { padding: 8px 12px; background: rgba(255,255,255,0.15); border-radius: 8px; font-size: 15px; align-self: flex-start; max-width: 80%; }
.msg.me { background: #6366f1; align-self: flex-end; }
